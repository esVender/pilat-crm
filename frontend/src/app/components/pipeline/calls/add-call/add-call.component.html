
<h1 mat-dialog-title cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>Llamada: <span>{{data.name ? data.name : 'Nueva'}}</span></h1>

<div mat-dialog-content >

  <form class="mat-dialog-content" (ngSubmit)="submit" #formControl="ngForm">

    <!--<div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>date_entered</mat-label><input matInput #input class="form-control" placeholder="date_entered" [(ngModel)]="data.date_entered" name="date_entered"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div>-->
    <!--<div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>date_modified</mat-label><input matInput #input class="form-control" placeholder="date_modified" [(ngModel)]="data.date_modified" name="date_modified"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div>-->
    <!--<div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>modified_user_id</mat-label><input matInput #input class="form-control" placeholder="modified_user_id" [(ngModel)]="data.modified_user_id" name="modified_user_id"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div>-->
    <!--<div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>created_by</mat-label><input matInput #input class="form-control" placeholder="created_by" [(ngModel)]="data.created_by" name="created_by"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div>-->
    <!--<div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>deleted</mat-label><input matInput #inputstate class="form-control" placeholder="deleted" [(ngModel)]="data.deleted" name="deleted" maxlength="10"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error><mat-hint align="end">{{inputstate.value?.length || 0}}/8</mat-hint></mat-form-field></div>-->
    <!--<div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>salutation</mat-label><input matInput #input class="form-control" placeholder="salutation" [(ngModel)]="data.salutation" name="salutation"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div>-->





    <div class="example-action-buttons">
      <button mat-button (click)="accordion.openAll()">Expand All</button>
      <button mat-button (click)="accordion.closeAll()">Collapse All</button>
    </div>
    <mat-accordion class="example-headers-align" multi>
    <mat-expansion-panel><mat-expansion-panel-header><mat-panel-title>Recordar llamada</mat-panel-title> <mat-panel-description><mat-icon>date_range</mat-icon></mat-panel-description></mat-expansion-panel-header>
      <mat-grid-list [cols]="pilatService.isSmallScreen ? '1' : '2'" rowHeight="6:2">
        <mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>Nombre</mat-label><input matInput #input class="form-control" placeholder="Nombre" [(ngModel)]="data.name" name="name"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>date_entered</mat-label><input matInput #input class="form-control" placeholder="date_entered" [(ngModel)]="data.date_entered" name="date_entered"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>date_modified</mat-label><input matInput #input class="form-control" placeholder="date_modified" [(ngModel)]="data.date_modified" name="date_modified"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>modified_user_id</mat-label><input matInput #input class="form-control" placeholder="modified_user_id" [(ngModel)]="data.modified_user_id" name="modified_user_id"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>created_by</mat-label><input matInput #input class="form-control" placeholder="created_by" [(ngModel)]="data.created_by" name="created_by"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>Descripción</mat-label><input matInput #input class="form-control" placeholder="Descripción" [(ngModel)]="data.description" name="description"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>deleted</mat-label><input matInput #input class="form-control" placeholder="deleted" [(ngModel)]="data.deleted" name="deleted"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>assigned_user_id</mat-label><input matInput #input class="form-control" placeholder="assigned_user_id" [(ngModel)]="data.assigned_user_id" name="assigned_user_id"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>Duraciion en Horas</mat-label><input matInput #input class="form-control" placeholder="duration_hours" [(ngModel)]="data.duration_hours" name="duration_hours"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>Duracion en Minutos</mat-label><input matInput #input class="form-control" placeholder="duration_minutes" [(ngModel)]="data.duration_minutes" name="duration_minutes"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>date_start</mat-label><input matInput #input class="form-control" placeholder="date_start" [(ngModel)]="data.date_start" name="date_start"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->

        <mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>Periodo</mat-label><mat-date-range-input [rangePicker]="llamadaPicker" [comparisonStart]="today" [comparisonEnd]="tomorrow"><input matStartDate matInput #input class="form-control" placeholder="Fecha Inicio" name="date_start" [(ngModel)]="data.date_start"><input matEndDate matInput #input class="form-control" placeholder="Fecha Inicio" name="date_end" [(ngModel)]="data.date_end" required></mat-date-range-input><mat-datepicker-toggle matSuffix [for]="llamadaPicker"></mat-datepicker-toggle><mat-date-range-picker #llamadaPicker></mat-date-range-picker></mat-form-field></div></mat-grid-tile>

        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>Fecha Inicio</mat-label><input matInput #input class="form-control" placeholder="Fecha Inicio" name="date_start" [(ngModel)]="data.date_start" [matDatepicker]="date_start"><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error><mat-datepicker-toggle matSuffix [for]="date_start"></mat-datepicker-toggle><mat-datepicker #date_start></mat-datepicker></mat-form-field></div></mat-grid-tile>-->
        <!--&lt;!&ndash;<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>date_end</mat-label><input matInput #input class="form-control" placeholder="date_end" [(ngModel)]="data.date_end" name="date_end"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>&ndash;&gt;-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>Fecha Fin</mat-label><input matInput #input class="form-control" placeholder="Fecha Fin" [(ngModel)]="data.date_end" name="date_end"  [matDatepicker]="date_end"><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error><mat-datepicker-toggle matSuffix [for]="date_end"></mat-datepicker-toggle><mat-datepicker #date_end></mat-datepicker></mat-form-field></div></mat-grid-tile>-->

        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>parent_type</mat-label><input matInput #input class="form-control" placeholder="parent_type" [(ngModel)]="data.parent_type" name="parent_type"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>status</mat-label><input matInput #input class="form-control" placeholder="status" [(ngModel)]="data.status" name="status"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>direction</mat-label><input matInput #input class="form-control" placeholder="direction" [(ngModel)]="data.direction" name="direction"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>parent_id</mat-label><input matInput #input class="form-control" placeholder="parent_id" [(ngModel)]="data.parent_id" name="parent_id"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>email_reminder_sent</mat-label><input matInput #input class="form-control" placeholder="email_reminder_sent" [(ngModel)]="data.email_reminder_sent" name="email_reminder_sent"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->

        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>Fecha y hora del recordatorio</mat-label><input matInput #input class="form-control" placeholder="reminder_time" [(ngModel)]="data.reminder_time" name="reminder_time"><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>llamada_realizada_c</mat-label><input matInput #input class="form-control" placeholder="email_reminder_time" [(ngModel)]="data.email_reminder_time" name="email_reminder_time"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-checkbox matInput #input class="form-control" placeholder="email_reminder_sent" [(ngModel)]="data.email_reminder_time" name="email_reminder_time" >Recordar mediante envio de correo</mat-checkbox></div></mat-grid-tile>-->

        <mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>Hora</mat-label><input matInput class="form-control" matTimepicker #t="matTimepicker" #time="ngModel" [strict]="false" mode="24h" [ngModel]="data.repeat_until" placeholder="Selecciona un hora" name="repeat_until" required><mat-icon matSuffix (click)="t.showDialog()">access_time</mat-icon><mat-error *ngIf="time.touched && time.invalid">Invalid Date</mat-error></mat-form-field></div></mat-grid-tile>

        <mat-grid-tile><div class="form"><mat-checkbox matInput #input class="form-control" placeholder="email_reminder_sent" [(ngModel)]="data.callCallsCstm.llamada_realizada_c" name="llamada_realizada_c" >Llamada realizada</mat-checkbox></div></mat-grid-tile>

        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>outlook_id</mat-label><input matInput #input class="form-control" placeholder="outlook_id" [(ngModel)]="data.outlook_id" name="outlook_id"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>repeat_type</mat-label><input matInput #input class="form-control" placeholder="repeat_type" [(ngModel)]="data.repeat_type" name="repeat_type"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>repeat_interval</mat-label><input matInput #input class="form-control" placeholder="repeat_interval" [(ngModel)]="data.repeat_interval" name="repeat_interval"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>repeat_dow</mat-label><input matInput #input class="form-control" placeholder="repeat_dow" [(ngModel)]="data.repeat_dow" name="repeat_dow"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>repeat_until</mat-label><input matInput #input class="form-control" placeholder="repeat_until" [(ngModel)]="data.repeat_until" name="repeat_until"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>Repetir Hasta</mat-label><input matInput #input class="form-control" placeholder="Repetir Hasta" [(ngModel)]="data.repeat_until" name="repeat_until" [matDatepicker]="repeat_until"><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error><mat-datepicker-toggle matSuffix [for]="repeat_until"></mat-datepicker-toggle><mat-datepicker #repeat_until></mat-datepicker></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline"aoQuoteAosQuotesCstm class="example-full-width" color="accent"><mat-label>repeat_count</mat-label><input matInput #input class="form-control" placeholder="repeat_count" [(ngModel)]="data.repeat_count" name="repeat_count"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>repeat_parent_id</mat-label><input matInput #input class="form-control" placeholder="repeat_parent_id" [(ngModel)]="data.repeat_parent_id" name="repeat_parent_id"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
        <!--<mat-grid-tile><div class="form"><mat-form-field appearance="outline" class="example-full-width" color="accent"><mat-label>recurring_source</mat-label><input matInput #input class="form-control" placeholder="recurring_source" [(ngModel)]="data.recurring_source" name="recurring_source"  ><mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error></mat-form-field></div></mat-grid-tile>-->
      </mat-grid-list>
    </mat-expansion-panel>
    </mat-accordion>

  </form>
</div>
<div mat-dialog-actions>
  <button mat-button [type]="submit" [disabled]="!formControl.valid" [mat-dialog-close]="1" (click)="confirmAdd()">Guardar</button>
  <button mat-button (click)="onNoClick()" tabindex="-1">Cancelar</button>
</div>
